:root{--color-primary: #2196F3;--color-primary-hover: #0b7dda;--color-success: #4CAF50;--color-success-hover: #45a049;--color-bg-main: #f5f5f5;--color-bg-sidebar: #f8f9fa;--color-bg-selected: #e8f4fd;--color-bg-hover: #e8e8e8;--color-bg-white: #ffffff;--color-bg-canvas: #2a2a2a;--color-bg-dark: #242424;--color-bg-very-dark: #1a1a1a;--color-bg-light: #f9f9f9;--color-bg-light-gray: #f0f0f0;--color-border-default: #ddd;--color-border-sidebar: #e0e0e0;--color-border-hover: #999;--color-border-light: #c0c0c0;--color-border-medium: #d0d0d0;--color-text-dark: #333;--color-text-medium: #666;--color-text-link: #646cff;--color-text-link-hover: #535bf2;--color-text-link-light: #747bff;--color-text-very-dark: #213547;--color-black: #000000;--color-white: #ffffff;--color-error: #f44336;--color-error-hover: #d32f2f;--color-shape-fill: #4CAF50;--color-shape-stroke: #2E7D32;--color-selection-border: #4CAF50;--color-selection-bg: rgba(100, 181, 246, .2);--color-red: #ff0000;--color-yellow: #ffff00;--color-green: #00ff00;--color-cyan: #00ffff;--color-blue: #0000ff;--color-magenta: #ff00ff}:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:var(--color-bg-dark);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:var(--color-text-link);text-decoration:inherit}a:hover{color:var(--color-text-link-hover)}body{margin:0;min-width:320px;min-height:100vh;background:var(--color-bg-canvas)}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:var(--color-bg-very-dark);cursor:pointer;transition:border-color .25s}button:hover{border-color:var(--color-text-link)}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}.loading-spinner{width:32px;height:32px;border:3px solid var(--color-border-sidebar);border-top-color:var(--color-primary);border-radius:50%;animation:spin 1s linear infinite}@media(prefers-color-scheme:light){:root{color:var(--color-text-very-dark);background-color:var(--color-bg-white)}a:hover{color:var(--color-text-link-light)}button{background-color:var(--color-bg-light)}}.loading-overlay{position:fixed;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:10001;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.loading-container{text-align:center;animation:fadeInUp .6s ease-out}.loading-title{font-size:24px;font-weight:600;background:linear-gradient(135deg,#2196f3,#4caf50);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:20px 0 8px;letter-spacing:.5px}.loading-text{font-size:14px;color:#666;margin:0}.modern-spinner{position:relative;width:60px;height:60px;margin:0 auto}.spinner-ring{position:absolute;width:100%;height:100%;border:4px solid transparent;border-radius:50%;animation:ring-spin 1.5s cubic-bezier(.68,-.55,.265,1.55) infinite}.spinner-ring:nth-child(1){background:conic-gradient(from 0deg,#2196f3,#4caf50,#ffc107,#2196f3);-webkit-mask:radial-gradient(farthest-side,transparent 70%,white 70%);mask:radial-gradient(farthest-side,transparent 70%,white 70%);animation-delay:0s}.spinner-ring:nth-child(2){background:conic-gradient(from 120deg,#ff9800,#e91e63,#9c27b0,#ff9800);-webkit-mask:radial-gradient(farthest-side,transparent 76%,white 76%);mask:radial-gradient(farthest-side,transparent 76%,white 76%);animation-delay:.2s;animation-duration:1.8s}.spinner-ring:nth-child(3){background:conic-gradient(from 240deg,#00bcd4,#8bc34a,#cddc39,#00bcd4);-webkit-mask:radial-gradient(farthest-side,transparent 82%,white 82%);mask:radial-gradient(farthest-side,transparent 82%,white 82%);animation-delay:.4s;animation-duration:2s}@keyframes ring-spin{0%{transform:rotate(0);border-width:4px}50%{transform:rotate(180deg);border-width:8px}to{transform:rotate(360deg);border-width:4px}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.dashboard{min-height:100vh;background:var(--color-bg-dark);padding:20px 30px}.dashboard-header{max-width:1400px;margin:0 auto 24px;display:flex;justify-content:space-between;align-items:center}.dashboard-actions{display:flex;gap:12px;align-items:center}.dashboard-title{font-size:28px;font-weight:700;color:var(--color-white);margin:0}.logout-btn{background:transparent;color:var(--color-text-medium);border:1px solid var(--color-border-sidebar);padding:10px 20px;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.logout-btn:hover{color:var(--color-white);border-color:var(--color-primary);background:#667eea1a}.create-new-btn{background:var(--color-primary);color:var(--color-white);border:none;padding:10px 20px;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:background .2s}.create-new-btn:hover{background:var(--color-primary-hover)}.dashboard-content{max-width:1400px;margin:0 auto}.dashboard-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;color:var(--color-text-medium)}.dashboard-empty .empty-icon{font-size:80px;margin-bottom:20px;color:var(--color-text-dark)}.dashboard-empty h3{color:var(--color-white);font-size:24px;margin:0 0 10px}.dashboard-empty p{color:var(--color-text-medium);margin-bottom:30px}.create-first-btn{background:var(--color-primary);color:var(--color-white);border:none;padding:14px 28px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:background .2s}.create-first-btn:hover{background:var(--color-primary-hover)}.canvas-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px}.canvas-card{background:var(--color-bg-very-dark);border-radius:8px;overflow:hidden;cursor:pointer;transition:transform .2s,box-shadow .2s;border:1px solid var(--color-border-sidebar)}.canvas-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000004d}.canvas-card-preview{width:100%;height:160px;background:var(--color-bg-dark);display:flex;align-items:center;justify-content:center}.canvas-placeholder{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:72px;font-weight:700;color:var(--color-text-medium);background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-success) 100%);opacity:.3}.canvas-card-info{padding:14px}.canvas-card-title{color:var(--color-white);font-size:16px;font-weight:600;margin:0 0 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.canvas-card-date{color:var(--color-text-medium);font-size:12px;margin:0}.canvas-wrapper{box-shadow:0 0 10px #0000001a;border:1px solid var(--color-border-default);background:var(--color-bg-white);width:1080px;height:1080px;position:relative;transform-origin:center center;transition:transform .1s ease-out}.sidebar{position:fixed;left:0;top:20px;height:100vh;width:200px;background:var(--color-bg-sidebar);border-right:1px solid var(--color-border-sidebar);overflow-y:auto;padding:20px 0;z-index:10;transition:width .3s ease}@media(max-width:1200px){.sidebar{width:150px}}@media(max-width:1000px){.sidebar{width:120px}}.sidebar-section{margin-bottom:50px}.sidebar-title{font-size:12px;font-weight:600;text-transform:uppercase;color:var(--color-text-medium);padding:0 16px;margin-bottom:8px;letter-spacing:.5px}.sidebar-item{display:flex;align-items:center;gap:12px;width:100%;padding:12px 16px;border:none;background:transparent;cursor:pointer;transition:background .2s;text-align:left;outline:none}.sidebar-item:focus,.sidebar-item:focus-visible{outline:none}.sidebar-item:hover{background:var(--color-bg-hover)}.sidebar-item.selected{background:var(--color-bg-selected);border-left:3px solid var(--color-primary);font-weight:500}.sidebar-icon{font-size:20px;min-width:20px;flex-shrink:0;color:var(--color-text-dark)}.sidebar-label{font-size:15px;color:var(--color-text-dark);font-weight:400}.sidebar-header{padding:0 16px 16px;margin-bottom:16px}.sidebar-home-btn{width:100%;display:flex;align-items:center;justify-content:center;background-color:var(--color-border-sidebar);padding:10px;border:none;color:var(--color-text-dark);border-radius:6px;cursor:pointer;transition:background .2s;font-size:20px}.sidebar-home-btn:hover{background:var(--color-bg-hover)}.element-toolbar{display:flex;align-items:center;gap:4px;white-space:nowrap}.toolbar-group{display:flex;align-items:center;gap:2px;padding:0 4px;border-right:1px solid var(--color-border-sidebar)}.toolbar-group:last-child{border-right:none}.toolbar-btn{padding:4px 10px;border:1px solid var(--color-border-default);background:#fff;border-radius:4px;cursor:pointer;font-size:13px;transition:all .2s;min-height:28px;display:flex;align-items:center;justify-content:center;color:var(--color-text-dark)}.toolbar-btn svg{color:var(--color-text-dark)}.color-picker-btn{position:relative;overflow:hidden}.color-picker-btn svg{color:#fff;position:relative;z-index:1}.toolbar-btn strong,.toolbar-btn em{font-weight:400;font-style:normal}.toolbar-btn:hover:not(:disabled):not(.active){background:var(--color-bg-main)}.toolbar-btn:disabled,.font-size-input:disabled{opacity:.4;cursor:not-allowed}.toolbar-btn.active{background:var(--color-primary);color:#fff;border-color:var(--color-primary);opacity:1}.toolbar-btn.active:hover:not(:disabled){background:var(--color-primary-hover);border-color:var(--color-primary-hover)}.toolbar-btn.active-muted{background:var(--color-bg-light-gray);color:var(--color-text-dark);border-color:var(--color-border-medium);opacity:1}.toolbar-btn.active-muted:hover:not(:disabled){background:var(--color-border-sidebar);border-color:var(--color-border-light)}.toolbar-btn.icon{min-width:28px;padding:4px 6px;font-size:18px;font-weight:700;color:var(--color-text-medium)}.font-size-input{width:45px;padding:4px 6px;border:1px solid var(--color-border-default);border-radius:4px;text-align:center;font-size:13px}.font-select{padding:4px 30px 4px 8px;border:1px solid var(--color-border-default);border-radius:4px;font-size:13px;background:#fff;cursor:pointer;color:var(--color-text-dark);min-width:150px;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M10.293 3.293L6 7.586 1.707 3.293A1 1 0 00.293 4.707l5 5a1 1 0 001.414 0l5-5a1 1 0 10-1.414-1.414z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 8px center}.font-select:focus{outline:none;border-color:var(--color-primary)}.color-picker{width:36px;height:24px;border:1px solid var(--color-border-default);border-radius:4px;cursor:pointer}.panel{position:fixed;left:200px;top:40px;width:300px;height:100vh;background:#fff;border-right:1px solid var(--color-border-default);box-shadow:2px 0 8px #0000001a;z-index:100;display:flex;flex-direction:column}.panel-header{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid var(--color-border-sidebar)}.panel-title{font-size:16px;font-weight:600;color:var(--color-text-dark);margin:0}.panel-close{width:32px;height:32px;border:none;background:transparent;cursor:pointer;font-size:20px;color:var(--color-text-medium);display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background .2s}.panel-close:hover{background:var(--color-bg-main)}.panel-content{flex:1;overflow-y:auto;padding:12px}.panel-item{display:flex;align-items:center;gap:12px;width:100%;padding:12px;border:none;background:transparent;cursor:pointer;border-radius:6px;transition:background .2s;text-align:left;font-size:15px;color:var(--color-text-dark);font-weight:400}.panel-item:hover{background:var(--color-bg-main)}.panel-item span:first-child{font-size:20px;min-width:24px}.panel-item span:last-child{font-weight:500;color:var(--color-text-dark)}.font-panel-container{display:flex;flex-direction:column;gap:0;padding:0;margin:0}.font-search-container{padding:12px;background:#fff;border-bottom:1px solid var(--color-border-sidebar)}.font-search-input{width:90%;padding:8px 12px;border:1px solid var(--color-border-default);border-radius:6px;font-size:14px;outline:none;transition:border-color .2s}.font-search-input:focus{border-color:var(--color-primary)}.font-list-container{flex:1;overflow-y:auto;padding:12px}.font-no-results{padding:20px;text-align:center;color:var(--color-border-hover);font-size:14px}.font-option{display:block;width:100%;padding:12px 16px;margin:0 0 8px;border:1px solid var(--color-border-sidebar);background:#fff;text-align:left;cursor:pointer;border-radius:6px;transition:background .2s,border-color .2s;font-size:14px;color:#000}.font-option:last-child{margin-bottom:0}.font-option:hover{background:var(--color-bg-main);border-color:var(--color-border-medium)}.color-panel{display:flex;flex-direction:column;gap:16px}.color-picker-container{display:flex;gap:12px;height:200px}.color-grid{flex:1;position:relative;border-radius:8px;cursor:crosshair;overflow:hidden;background:linear-gradient(to right,var(--color-white),transparent),linear-gradient(to bottom,transparent,var(--color-black))}.color-pointer{position:absolute;width:16px;height:16px;border:2px solid white;border-radius:50%;transform:translate(-50%,-50%);box-shadow:0 0 4px #00000080;pointer-events:none}.hue-slider{width:20px;height:100%;background:linear-gradient(to bottom,var(--color-red),var(--color-yellow),var(--color-green),var(--color-cyan),var(--color-blue),var(--color-magenta),var(--color-red));border-radius:8px;cursor:pointer;position:relative}.hue-pointer{position:absolute;width:100%;height:4px;background:#fff;border:2px solid var(--color-text-dark);box-shadow:0 0 2px #0000004d;transform:translateY(-50%);pointer-events:none}.current-color-preview{width:100%;height:50px;border-radius:8px;border:2px solid var(--color-border-default)}.color-values{display:flex;flex-direction:column;gap:12px}.color-value-group{display:flex;flex-direction:column;gap:4px}.color-value-group label{font-size:12px;font-weight:500;color:var(--color-text-medium);text-transform:uppercase}.color-input{padding:6px 8px;border:1px solid var(--color-border-default);border-radius:4px;font-size:13px}.rgb-input{width:70px}.color-value-row{display:flex;gap:8px}.layers-panel{position:fixed;right:0;top:80px;width:300px;max-height:calc(100vh - 40px);background:var(--color-bg-white);border:1px solid var(--color-border-sidebar);border-radius:8px;display:flex;flex-direction:column;z-index:50;box-shadow:-2px 0 8px #0000001a;transition:width .3s ease}@media(max-width:1200px){.layers-panel{width:200px}}@media(max-width:1000px){.layers-panel{width:180px}}.layers-panel.collapsed{width:60px;max-height:100px}.layers-header-content{display:flex;align-items:center;gap:8px}.layers-icon{font-size:18px;min-width:20px}.layers-panel-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--color-border-sidebar)}.layers-panel-header h3{margin:0;font-size:14px;font-weight:600;color:var(--color-text-dark);text-transform:uppercase}.layers-collapse-btn{background:none;border:none;cursor:pointer;font-size:12px;color:var(--color-text-medium);padding:4px}.layers-list{flex:1;overflow-y:auto;padding:8px}.layer-item{display:flex;align-items:center;gap:8px;padding:8px;margin-bottom:4px;border:1px solid var(--color-border-sidebar);border-radius:4px;cursor:move;background:var(--color-bg-white);transition:all .2s;position:relative}.layer-item:hover{background:var(--color-bg-main)}.layer-item.selected{background:var(--color-bg-selected);border-color:var(--color-primary)}.layer-item.dragging{opacity:.5}.layer-item.drag-over{border-color:var(--color-primary);background:var(--color-bg-selected);box-shadow:0 0 0 2px var(--color-primary)}.layer-item.drag-over:after{content:"← Insert here";position:absolute;top:50%;right:10px;transform:translateY(-50%);font-size:11px;color:var(--color-primary);font-weight:600;pointer-events:none}.layer-preview{width:40px;height:40px;background:var(--color-bg-light-gray);border:1px solid var(--color-border-default);border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;cursor:move}.layer-content{flex:1;min-width:0}.layer-name{font-size:13px;color:var(--color-text-dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.layer-name-input{width:95%;padding:4px 8px;border:1px solid var(--color-primary);border-radius:4px;font-size:13px;background:var(--color-bg-white);color:#000;outline:none}.layer-delete-btn{background:none;border:none;cursor:pointer;font-size:16px;opacity:.5;padding:4px;transition:opacity .2s}.layer-delete-btn:hover{opacity:1}.confirm-dialog-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.confirm-dialog{background:var(--color-bg-white);padding:24px;border-radius:8px;box-shadow:0 4px 12px #00000026;max-width:400px;width:90%}.confirm-dialog h3{margin:0 0 12px;font-size:18px;font-weight:600;color:var(--color-text-dark)}.confirm-dialog p{margin:0 0 20px;font-size:14px;color:var(--color-text-medium)}.confirm-dialog-buttons{display:flex;gap:8px;justify-content:flex-end}.confirm-dialog-buttons button{padding:8px 16px;border:1px solid var(--color-border-default);background:var(--color-bg-white);color:var(--color-text-dark);border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s}.confirm-dialog-buttons button:hover{background:var(--color-bg-main)}.confirm-dialog-buttons .confirm-btn{background:var(--color-error);color:#fff;border-color:var(--color-error)}.confirm-dialog-buttons .confirm-btn:hover{background:var(--color-error-hover);border-color:var(--color-error-hover)}.undo-redo-toolbar{display:flex;gap:6px}.undo-redo-btn{width:28px;height:28px;border:1px solid var(--color-border-default);background:var(--color-bg-white);border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;color:var(--color-text-dark);padding:0}.undo-redo-btn svg{width:14px;height:14px}.undo-redo-btn:hover:not(:disabled){background:var(--color-bg-main);border-color:var(--color-primary)}.undo-redo-btn:active:not(:disabled){background:var(--color-primary);color:#fff;border-color:var(--color-primary)}.undo-redo-btn:disabled{opacity:.4;cursor:not-allowed}.spinning{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.app{background-color:var(--color-bg-canvas)!important;width:100%;min-height:100vh;display:flex;place-items:center;background:var(--color-bg-main);min-width:900px}.canvas-viewport{width:calc(100% - 500px);height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg-canvas);overflow:hidden;position:fixed;top:0;left:200px;right:300px;transition:left .3s ease,width .3s ease;padding-top:50px;box-sizing:border-box}.canvas-viewport.with-panel{left:500px;width:calc(100% - 800px)}@media(max-width:1200px){.canvas-viewport{width:calc(100% - 350px);left:150px;right:200px}.canvas-viewport.with-panel{left:450px;width:calc(100% - 650px)}}@media(max-width:1000px){.canvas-viewport{width:calc(100% - 300px);left:120px;right:180px}.canvas-viewport.with-panel{left:420px;width:calc(100% - 600px)}}.login-container{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0000001a;padding:48px;max-width:420px;width:100%}.login-header{text-align:center;margin-bottom:32px}.login-header h1{margin:0 0 8px;font-size:28px;font-weight:600;color:#1a202c}.login-header p{margin:0;color:#718096;font-size:14px}.login-form{display:flex;flex-direction:column;gap:20px}.login-button{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:14px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s;margin-top:8px}.login-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.login-button:disabled{opacity:.6;cursor:not-allowed}.register-container{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.register-card{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0000001a;padding:48px;max-width:420px;width:100%}.register-header{text-align:center;margin-bottom:32px}.register-header h1{margin:0 0 8px;font-size:28px;font-weight:600;color:#1a202c}.register-header p{margin:0;color:#718096;font-size:14px}.register-form{display:flex;flex-direction:column;gap:20px}.form-group{display:flex;flex-direction:column}.form-group label{font-size:14px;font-weight:500;color:#2d3748;margin-bottom:8px}.form-group input{padding:12px 16px;border:1px solid #e2e8f0;border-radius:8px;font-size:14px;transition:all .2s;outline:none}.form-group input:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.form-group input:disabled{background-color:#f7fafc;cursor:not-allowed}.form-group small{font-size:12px;color:#718096;margin-top:4px}.error-message{background-color:#fed7d7;color:#c53030;padding:12px;border-radius:8px;font-size:14px;text-align:center}.register-button{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:14px;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s;margin-top:8px}.register-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #667eea4d}.register-button:disabled{opacity:.6;cursor:not-allowed}.switch-auth{margin-top:24px;text-align:center;color:#718096;font-size:14px}.link-button{background:none;border:none;color:#667eea;cursor:pointer;text-decoration:underline;font-weight:500;padding:0}.link-button:hover{color:#764ba2}
